//This is where any Science Defs which don't fall into a specific group go.
//Telemetry Report
@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
	%SKFreeAgents
	{
		sss_telemetryReport
		{
			ECCost = 	//Nothing - you're literally just transmitting the status of the probe core...
			size = 0.5 						
			value = 6								
			duration = 30 //Half of the other Sounding Rocket Experiments - should be practically impossible to not fully get...					
			requirements =
			ResourceRates =
			CrewRequirement = 
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[sss_telemetryReport]]:NEEDS[FeatureScience]:FOR[SkyhawkKerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_telemetryReport/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_telemetryReport/size$
	@dataScale /= #$baseValue$

	KERBALISM_EXPERIMENT
	{
		Situation = Surface@Biomes
		Situation = FlyingLow
		Situation = FlyingHigh
		Situation = InSpaceLow
		Situation = InSpaceHigh
	}
}

@PART[*]:HAS[@MODULE[ModuleCommand],#vesselType[Probe],~TechRequired[control*|hypergol*|tanks*|construction*|logistics*|comms*]]:NEEDS[FeatureScience]:AFTER[SkyhawkKerbalism]
{
	!MODULE:HAS[#experimentID[sss_telemetryReport]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = sss_telemetryReport
		//ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_telemetryReport/ECCost$
		//%requires = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_telemetryReport/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_telemetryReport/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_telemetryReport/duration$
		//%resources = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_telemetryReport/ResourceRates$
		//%crew_operate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_telemetryReport/CrewRequirement$
	}
	MODULE //Temporary Patch to allow for debugging
	{
		name = HardDrive
		title = Command Module Storage
		dataCapacity = 0.5      // data size in Mb
		sampleCapacity = 0      // sample size in slots
	}
}



//Temperature Scan
@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
	%SKFreeAgents
	{
		temperatureScan
		{
			ECCost = 	//Nothing - it's a thermometer...
			size = 1 						
			value = 12								
			duration = 60 				
			requirements =
			ResourceRates =
			CrewRequirement = 
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[temperatureScan]]:NEEDS[FeatureScience]:BEFORE[SkyhawkKerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/temperatureScan/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/temperatureScan/size$
	@dataScale /= #$baseValue$

	KERBALISM_EXPERIMENT
	{
		Situation = Surface@Biomes
		Situation = FlyingLow@Biomes
		Situation = FlyingHigh
		Situation = InSpaceLow
		Situation = InSpaceHigh
	}
}

@PART[*]:HAS[#SK_Thermometer[true]]:NEEDS[FeatureScience]:AFTER[SkyhawkKerbalism]
{
	!MODULE:HAS[#experimentID[temperatureScan]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = temperatureScan
		//ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/temperatureScan/ECCost$
		//%requires = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/temperatureScan/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/temperatureScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/temperatureScan/duration$
		//%resources = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/temperatureScan/ResourceRates$
		//%crew_operate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/temperatureScan/CrewRequirement$
	}
}

//Barometer Scan
@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
	%SKFreeAgents
	{
		barometerScan
		{
			ECCost = 	//Nothing - it's a barometer...
			size = 1 						
			value = 12								
			duration = 60 				
			requirements =
			ResourceRates =
			CrewRequirement = 
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[barometerScan]]:NEEDS[FeatureScience]:BEFORE[SkyhawkKerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/barometerScan/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/barometerScan/size$
	@dataScale /= #$baseValue$

	KERBALISM_EXPERIMENT //Not sure if this should be biome based or hemisphere based...
	{
		BodyAllowed = Atmospheric
		
		Situation = Surface@Biomes
		Situation = FlyingLow@Biomes
		Situation = FlyingHigh
		
	}
}

@PART[*]:HAS[#SK_Barometer[true]]:NEEDS[FeatureScience]:AFTER[SkyhawkKerbalism]
{
	!MODULE:HAS[#experimentID[barometerScan]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = barometerScan
		//ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/barometerScan/ECCost$
		//%requires = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/barometerScan/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/barometerScan/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/barometerScan/duration$
		//%resources = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/barometerScan/ResourceRates$
		//%crew_operate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/barometerScan/CrewRequirement$
	}
}
//Early Communication Tests - figure out a way to make it require multiple sats
//Maybe use a resource kinda like the film on Keyhole Cameras
@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
	%SKFreeAgents
	{
		sss_earlyCommunicationTesting
		{
			ECCost = //All you are doing is having the antenna relay stuff, so no additional ec cost is needed
			size = 31536 //Goal is 2 kB per second (the same avg rate that the antenna can mantain at reasonable commnet altitudes)						
			value = 175 //Double the cost of								
			duration = 15768000 //730 days, or about 2 years if going by JNSQ/KRSS dating (i hope). Encourages one to send up multiple of these! 				
			requirements =
			ResourceRates =
			CrewRequirement = 
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[sss_earlyCommunicationTesting]]:NEEDS[FeatureScience]:BEFORE[SkyhawkKerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_earlyCommunicationTesting/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_earlyCommunicationTesting/size$
	@dataScale /= #$baseValue$

	KERBALISM_EXPERIMENT 
	{
		BodyAllowed = HomeBody
		
		Situation = Space
	}
}

@PART[bluedog_Courier_Core|bluedog_TTS1|bluedog_Relay_Core|bluedog_IDCSP_Probe|bluedog_Telstar_Core]:NEEDS[FeatureScience]:AFTER[SkyhawkKerbalism]
{
	!MODULE:HAS[#experimentID[sss_earlyCommunicationTesting]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = sss_earlyCommunicationTesting
		//ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_earlyCommunicationTesting/ECCost$
		//%requires = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_earlyCommunicationTesting/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_earlyCommunicationTesting/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_earlyCommunicationTesting/duration$
		//%resources = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_earlyCommunicationTesting/ResourceRates$
		//%crew_operate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/sss_earlyCommunicationTesting/CrewRequirement$
	}
}

//Ionization and Electrostatic Analysis
@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
	%SKFreeAgents
	{
		bd_ionElec
		{
			ECCost = 
			size = 2048 					
			value = 14 							
			duration = 14400 
			requirements =
			ResourceRates =
			CrewRequirement = 
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_ionElec]]:NEEDS[FeatureScience]:BEFORE[SkyhawkKerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_ionElec/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_ionElec/size$
	@dataScale /= #$baseValue$

	KERBALISM_EXPERIMENT 
	{
		BodyAllowed = HomeBody
		
		Situation = Space
	}
}

@PART[*]:NEEDS[FeatureScience]:AFTER[SkyhawkKerbalism]
{
	!MODULE:HAS[#experimentID[bd_ionElec]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = bd_ionElec
		//ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_ionElec/ECCost$
		//%requires = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_ionElec/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_ionElec/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_ionElec/duration$
		//%resources = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_ionElec/ResourceRates$
		//%crew_operate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_ionElec/CrewRequirement$
	}
}
//Radio Plasma Wave Science
@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
	%SKFreeAgents
	{
		bd_rpws
		{
			ECCost = 
			size = 2048 					
			value = 17 //Double the cost of								
			duration = 648000 
			requirements =
			ResourceRates =
			CrewRequirement = 
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_rpws]]:NEEDS[FeatureScience]:BEFORE[SkyhawkKerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_rpws/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_rpws/size$
	@dataScale /= #$baseValue$

	KERBALISM_EXPERIMENT 
	{
		BodyAllowed = HomeBody
		
		Situation = Space
	}
}

@PART[*]:NEEDS[FeatureScience]:AFTER[SkyhawkKerbalism]
{
	!MODULE:HAS[#experimentID[bd_rpws]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = bd_rpws
		//ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_rpws/ECCost$
		//%requires = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_rpws/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_rpws/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_rpws/duration$
		//%resources = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_rpws/ResourceRates$
		//%crew_operate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_rpws/CrewRequirement$
	}
}
//Cosmic Ray Detection
@KERBALISM_EXPERIMENT_VALUES:NEEDS[FeatureScience]
{
	%SKFreeAgents
	{
		bd_cosmicRay
		{
			ECCost = 
			size = 3 					
			value = 17 //Double the cost of								
			duration = 180 
			requirements =
			ResourceRates =
			CrewRequirement = 
		}
	}
}

@EXPERIMENT_DEFINITION:HAS[#id[bd_cosmicRay]]:NEEDS[FeatureScience]:BEFORE[SkyhawkKerbalism]
{
	@baseValue = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_cosmicRay/value$
	@dataScale = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_cosmicRay/size$
	@dataScale /= #$baseValue$

	KERBALISM_EXPERIMENT 
	{
		BodyAllowed = HomeBody
		
		Situation = Space
	}
}

@PART[*]:NEEDS[FeatureScience]:AFTER[SkyhawkKerbalism]
{
	!MODULE:HAS[#experimentID[bd_cosmicRay]]	{}
	MODULE
	{
		name = Experiment
		experiment_id = bd_cosmicRay
		//ec_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_cosmicRay/ECCost$
		//%requires = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_cosmicRay/requirements$
		%data_rate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_cosmicRay/size$
		@data_rate /= #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_cosmicRay/duration$
		//%resources = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_cosmicRay/ResourceRates$
		//%crew_operate = #$@KERBALISM_EXPERIMENT_VALUES/SKFreeAgents/bd_cosmicRay/CrewRequirement$
	}
}
